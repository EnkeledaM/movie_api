<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>myFlix API Documentation</title>
</head>

<body>

<h1>myFlix REST API</h1>

<p>
  The myFlix API provides access to information about movies, genres, and directors.
  It also allows users to register, update their profile, manage a list of favorite movies,
  and deregister their account.
</p>

<hr>

<h2>myFlix API Endpoints</h2>

<table border="1" cellpadding="8">
  <thead>
    <tr>
      <th>Request</th>
      <th>URL</th>
      <th>HTTP Method</th>
      <th>Response</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Get all movies</td>
      <td>/movies</td>
      <td>GET</td>
      <td>JSON: array of movies</td>
    </tr>
    <tr>
      <td>Get movie by title</td>
      <td>/movies/:title</td>
      <td>GET</td>
      <td>JSON: movie object</td>
    </tr>
    <tr>
      <td>Get genre by name</td>
      <td>/genres/:name</td>
      <td>GET</td>
      <td>JSON: genre object (description)</td>
    </tr>
    <tr>
      <td>Get director by name</td>
      <td>/directors/:name</td>
      <td>GET</td>
      <td>JSON: director object</td>
    </tr>
    <tr>
      <td>Register new user</td>
      <td>/users</td>
      <td>POST</td>
      <td>JSON: created user</td>
    </tr>
    <tr>
      <td>Update user</td>
      <td>/users/:username</td>
      <td>PUT</td>
      <td>JSON: updated user</td>
    </tr>
    <tr>
      <td>Add favorite movie</td>
      <td>/users/:username/movies/:movieId</td>
      <td>POST</td>
      <td>JSON: updated user with favorites</td>
    </tr>
    <tr>
      <td>Remove favorite movie</td>
      <td>/users/:username/movies/:movieId</td>
      <td>DELETE</td>
      <td>JSON: updated user with favorites</td>
    </tr>
    <tr>
      <td>Deregister user</td>
      <td>/users/:username</td>
      <td>DELETE</td>
      <td>JSON: confirmation message</td>
    </tr>
  </tbody>
</table>

<hr>

<h2>Endpoint Details</h2>

<h3>GET /movies</h3>
<ul>
  <li><strong>Description:</strong> Returns a list of all movies.</li>
  <li><strong>Method:</strong> GET</li>
  <li><strong>URL Parameters:</strong> None</li>
  <li><strong>Request Body:</strong> None</li>
  <li><strong>Response Format:</strong> JSON array</li>
  <li><strong>Example Request:</strong> <code>GET http://localhost:8080/movies</code></li>
  <li><strong>Example Response:</strong> <code>200 OK</code></li>
</ul>

<h3>GET /movies/:title</h3>
<ul>
  <li><strong>Description:</strong> Returns data about a single movie by title.</li>
  <li><strong>Method:</strong> GET</li>
  <li><strong>URL Parameters:</strong> <code>:title</code> – movie title</li>
  <li><strong>Request Body:</strong> None</li>
  <li><strong>Response Format:</strong> JSON object</li>
  <li><strong>Example Request:</strong> <code>GET http://localhost:8080/movies/Inception</code></li>
  <li><strong>Example Response:</strong> <code>200 OK</code></li>
</ul>

<h3>GET /genres/:name</h3>
<ul>
  <li><strong>Description:</strong> Returns information about a genre (description).</li>
  <li><strong>Method:</strong> GET</li>
  <li><strong>URL Parameters:</strong> <code>:name</code> – genre name</li>
  <li><strong>Request Body:</strong> None</li>
  <li><strong>Response Format:</strong> JSON object</li>
  <li><strong>Example Request:</strong> <code>GET http://localhost:8080/genres/Thriller</code></li>
  <li><strong>Example Response:</strong> <code>200 OK</code></li>
</ul>

<h3>GET /directors/:name</h3>
<ul>
  <li><strong>Description:</strong> Returns information about a director (bio, birth year, death year).</li>
  <li><strong>Method:</strong> GET</li>
  <li><strong>URL Parameters:</strong> <code>:name</code> – director name</li>
  <li><strong>Request Body:</strong> None</li>
  <li><strong>Response Format:</strong> JSON object</li>
  <li><strong>Example Request:</strong> <code>GET http://localhost:8080/directors/Christopher%20Nolan</code></li>
  <li><strong>Example Response:</strong> <code>200 OK</code></li>
</ul>

<h3>POST /users</h3>
<ul>
  <li><strong>Description:</strong> Registers a new user.</li>
  <li><strong>Method:</strong> POST</li>
  <li><strong>Request Body:</strong> JSON</li>
  <li><strong>Response Format:</strong> JSON object</li>
</ul>

<pre>
{
  "Username": "enkeleda",
  "Password": "test123",
  "Email": "enkeleda@example.com",
  "Birthday": "1973-08-04"
}
</pre>

<ul>
  <li><strong>Example Response:</strong> <code>201 Created</code></li>
</ul>

<h3>PUT /users/:username</h3>
<ul>
  <li><strong>Description:</strong> Updates user information (one or more fields).</li>
  <li><strong>Method:</strong> PUT</li>
  <li><strong>URL Parameters:</strong> <code>:username</code></li>
  <li><strong>Request Body:</strong> JSON (any updatable fields)</li>
  <li><strong>Response Format:</strong> JSON object</li>
</ul>

<pre>
{
  "Username": "enkeleda_new",
  "Email": "enkeleda_new@example.com"
}
</pre>

<ul>
  <li><strong>Example Response:</strong> <code>200 OK</code></li>
</ul>

<h3>POST /users/:username/movies/:movieId</h3>
<ul>
  <li><strong>Description:</strong> Adds a movie to the user’s favorites list.</li>
  <li><strong>Method:</strong> POST</li>
  <li><strong>URL Parameters:</strong> <code>:username</code>, <code>:movieId</code></li>
  <li><strong>Request Body:</strong> None</li>
  <li><strong>Response Format:</strong> JSON object</li>
  <li><strong>Example Request:</strong>
    <code>POST http://localhost:8080/users/enkeleda/movies/65a1f2c3d4e5f67890123456</code>
  </li>
  <li><strong>Example Response:</strong> <code>200 OK</code></li>
</ul>

<h3>DELETE /users/:username/movies/:movieId</h3>
<ul>
  <li><strong>Description:</strong> Removes a movie from the user’s favorites list.</li>
  <li><strong>Method:</strong> DELETE</li>
  <li><strong>URL Parameters:</strong> <code>:username</code>, <code>:movieId</code></li>
  <li><strong>Request Body:</strong> None</li>
  <li><strong>Response Format:</strong> JSON object</li>
  <li><strong>Example Request:</strong>
    <code>DELETE http://localhost:8080/users/enkeleda/movies/65a1f2c3d4e5f67890123456</code>
  </li>
  <li><strong>Example Response:</strong> <code>200 OK</code></li>
</ul>

<h3>DELETE /users/:username</h3>
<ul>
  <li><strong>Description:</strong> Deregisters a user.</li>
  <li><strong>Method:</strong> DELETE</li>
  <li><strong>URL Parameters:</strong> <code>:username</code></li>
  <li><strong>Request Body:</strong> None</li>
  <li><strong>Response Format:</strong> JSON message</li>
  <li><strong>Example Request:</strong> <code>DELETE http://localhost:8080/users/enkeleda</code></li>
  <li><strong>Example Response:</strong> <code>200 OK</code></li>
</ul>

</body>
</html>
